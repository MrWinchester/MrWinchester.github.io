---
layout:     post
title:      "设计模式"
date:       2018-04-10 22:49:00
description: "设计模式"
tag :      [设计模式,design pattern]
---

# 设计模式
* 单例模式
  * 双重校验锁
  ```
  public class Singleton {

    private volatile static Singleton uniqueInstance;

    private Singleton() {
    }

    public static Singleton getUniqueInstance() {
        if (uniqueInstance == null) {  //1
            synchronized (Singleton.class) {
                if (uniqueInstance == null) { //2
                    uniqueInstance = new Singleton();
                }
            }
        }
        return uniqueInstance;
    }
  }
  ```
  * 如果没有第二层的循环可以吗
    * 答案：不行，多线程并发的时候，虽然会在if锁住，但是后面都会执行new Singleton()，导致实例化多次
  * 如果没有第一层循环可以吗
    * 答案：不行，因为每次取getUniqueInstance，都会加锁阻塞，导致效率低下。


  * 每日一更，持续更新中......
